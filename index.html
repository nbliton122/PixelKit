<!doctype html>
<html lang="bn">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>PixelKit ‚Äî Fast & Elegant Photo Tools</title>

<!-- SEO -->
<meta name="description" content="PixelKit ‚Äî browser-based image tools: Cover Maker (2048√ó1152), Logo Maker (500√ó500), Resizer, Converter, Compressor, Link & Text utilities.">
<meta name="keywords" content="image tools, cover maker, logo maker, image resizer, image converter, image compressor, url to html, link shuffle, description shorter">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Inter:wght@300;400;600&display=swap" rel="stylesheet">

<style>
/* ======================
   VARIABLES & THEMES
   ====================== */
:root{
  --container:1150px;
  --radius:12px;
  --neon-cyan:#00f0ff;
  --neon-mag:#c084fc;
  --accent:#19e8ff;
  --muted:#9fb0c8;
  --bg-dark: linear-gradient(180deg,#01040a 0%, #020617 100%);
  --panel-dark: rgba(255,255,255,0.035);
  --glass-border-dark: rgba(0,255,255,0.06);
  --text-light: #eaf6ff;
  --tile-icon-bg: linear-gradient(135deg, rgba(0,240,255,0.10), rgba(195,130,252,0.06));
}

/* Light tool-page colors (applied when body has .tool-light) */
body.tool-light{
  --bg-page: #ffffff;
  --panel-light: #fbfdff;
  --text-dark: #08202a;
  --muted-dark: #3b5560;
  --accent-dark: #007c8f;
}

/* general */
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family:Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  background: var(--bg-dark);
  color: var(--text-light);
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
  transition: background .28s ease, color .28s ease;
}

/* ---------------------------
   IMPROVED LOADING OVERLAY
   --------------------------- */
#loadingOverlay{
  position:fixed;
  inset:0;
  display:flex;
  align-items:center;
  justify-content:center;
  background: linear-gradient(180deg, rgba(2,6,10,0.88), rgba(2,6,10,0.88));
  z-index:9999;
  transition: opacity 420ms ease, visibility 420ms ease;
  opacity:1;
  visibility:visible;
  pointer-events:auto;
}
#loadingOverlay.hidden{
  opacity:0;
  visibility:hidden;
  pointer-events:none;
}
.loading-dots { display:flex; gap:10px; align-items:center; }
.loading-dot { width:12px; height:12px; border-radius:50%; background:var(--accent); opacity:.95; transform:scale(.9); animation: pk-pulse 960ms infinite ease-in-out; }
.loading-dot:nth-child(2){ animation-delay:120ms }
.loading-dot:nth-child(3){ animation-delay:240ms }
@keyframes pk-pulse {
  0%   { transform: scale(.85); opacity:.5; }
  50%  { transform: scale(1.25); opacity:1; }
  100% { transform: scale(.85); opacity:.5; }
}
/* small screen: keep overlay layout centered and smaller */
@media(max-width:520px){ .loading-dots{ gap:8px } .loading-dot{ width:10px; height:10px } }

/* CONTAINER */
.wrap{max-width:var(--container);margin:28px auto;padding:20px}

/* HEADER */
header{display:flex;align-items:center;justify-content:space-between;gap:12px}
.brand{display:flex;align-items:center;gap:14px}
.logo{
  width:64px;height:64px;border-radius:12px;background:linear-gradient(135deg,var(--neon-cyan),var(--neon-mag));
  display:flex;align-items:center;justify-content:center;font-family:Orbitron;color:#00141a;font-weight:700;font-size:18px;
  box-shadow: 0 10px 30px rgba(0,0,0,0.45);
}
.top-nav a{color:var(--muted);text-decoration:none;margin-left:10px;padding:8px;border-radius:8px}

/* HERO (Dark) */
.hero{text-align:center;margin-top:20px}
.hero h1{font-family:Orbitron;color:var(--neon-cyan);font-size:36px;margin:0}
.hero p{color:#7dd3fc;font-size:15px;margin-top:8px;max-width:780px;margin-left:auto;margin-right:auto;line-height:1.5}
.hero-cta{margin-top:18px}
.cta-btn{
  padding:12px 26px;border-radius:999px;border:0;background:linear-gradient(90deg,var(--neon-cyan),var(--neon-mag));color:#00141a;font-weight:800;cursor:pointer;
  box-shadow: 0 18px 40px rgba(0,120,140,0.14), 0 6px 18px rgba(0,0,0,0.45); transition: transform .14s ease;
}
.cta-btn:hover{ transform: translateY(-4px); }

/* TOOLS GRID (dark UI) */
h2.tools-title{ color:var(--neon-cyan); font-family:Orbitron; margin-top:28px; margin-bottom:10px }
.home{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:18px;margin-top:12px}
.tile{
  position:relative; overflow:hidden;
  background: linear-gradient(180deg, rgba(255,255,255,0.018), rgba(255,255,255,0.01));
  border-radius:14px; padding:16px; cursor:pointer; text-align:center;
  box-shadow: 0 10px 28px rgba(0,0,0,0.6), inset 0 1px 0 rgba(255,255,255,0.01);
  transition: transform .18s ease, box-shadow .18s ease;
  border:1px solid rgba(255,255,255,0.04);
  min-height:150px; display:flex; flex-direction:column; gap:8px; align-items:center; justify-content:flex-start;
}
.tile:focus{ outline:none; box-shadow:0 20px 60px rgba(0,0,0,0.6), 0 0 18px rgba(0,240,255,0.04) }
.tile:hover{ transform: translateY(-6px) scale(1.01); box-shadow: 0 18px 40px rgba(0,0,0,0.72); }

.tile .icon{ width:56px;height:56px;border-radius:12px;background:var(--tile-icon-bg);display:flex;align-items:center;justify-content:center;border:1px solid rgba(255,255,255,0.03);box-shadow:0 8px 24px rgba(0,0,0,0.45); }
.tile .icon svg{ width:28px;height:28px; stroke:#e6fbff; opacity:0.98 }

.tile h3{margin:8px 0;color:var(--neon-cyan);font-family:Orbitron;font-size:15px}
.tile p{color:var(--muted);font-size:13px;margin:0;line-height:1.3}

/* neon border */
.tile::before{ content:""; position:absolute; inset:0; border:2px solid var(--neon-cyan); border-radius:16px; opacity:0.35; filter:drop-shadow(0 0 6px rgba(0,240,255,0.06)); pointer-events:none; transform:skew(-2deg,-1deg); transition:opacity .18s ease, filter .18s ease; }
.tile:hover::before{ opacity:0.75; filter: drop-shadow(0 0 12px rgba(0,240,255,0.12)); }

/* TOOL PAGES - LIGHT STYLE */
.tool-page{ display:none; margin-top:24px; padding:22px; border-radius:12px; background:var(--panel-dark); border:1px solid var(--glass-border-dark); box-shadow: 0 10px 30px rgba(0,0,0,0.55) }
.tool-page.active{ display:block }

/* When a tool page is active we add .tool-light on body via JS
   then tool pages will adopt a clean light UI look
*/
body.tool-light .tool-page{
  background: var(--panel-light);
  color: var(--text-dark);
  border:1px solid rgba(0,0,0,0.06);
  box-shadow: 0 8px 30px rgba(10,20,30,0.06);
}
body.tool-light .tool-page h2{ color:var(--accent-dark); font-family:Orbitron; }
body.tool-light input, body.tool-light textarea, body.tool-light select{ background:#fff; color:var(--text-dark); border:1px solid rgba(0,0,0,0.08) }

/* file inputs and controls common */
.file-input{ margin-top:12px; padding:14px; border-radius:10px; background: rgba(255,255,255,0.01); border:1px dashed rgba(0,255,255,0.06); text-align:center; color:var(--muted) }
.controls-row{ display:flex; gap:12px; flex-wrap:wrap; align-items:center; margin-top:10px }
select,input,textarea{ padding:10px;border-radius:8px;border:1px solid rgba(255,255,255,0.1); background:#071226;color:#eaf6ff; width:100%; margin-top:8px }
select.small,input.small{ width:150px }

/* Resize previews */
.preview-wrap{ display:flex; gap:16px; align-items:flex-start; margin-top:12px; flex-wrap:wrap }
.preview-img{ max-width:420px; border-radius:10px; border:1px solid rgba(255,255,255,0.04); box-shadow:0 10px 30px rgba(0,0,0,0.6) }

/* FOOTER */
.site-footer{ margin-top:28px; color:var(--muted); text-align:center; padding:28px 18px; background:#0b0e15; border-top:1px solid rgba(255,255,255,0.03); border-radius:8px }
.footer-inner{ max-width:var(--container); margin:0 auto; display:flex; align-items:center; justify-content:space-between; gap:18px; flex-wrap:wrap }
.footer-brand{ font-family:Orbitron; color:var(--neon-cyan); font-size:56px; letter-spacing:2px }
.footer-copy{ color:#8fa3c2; font-size:13px; margin-top:6px }
.footer-nav{ display:flex; gap:22px; align-items:center; justify-content:center; flex:1; flex-wrap:wrap }
.footer-nav a{ color:#9fb0c8; text-decoration:none; font-size:14px; padding:10px 14px; border-radius:8px; transition: all .12s ease }
.footer-nav a:hover, .footer-nav a:focus{ color:var(--neon-cyan); transform: translateY(-3px); text-decoration: underline 1px solid rgba(0,240,255,0.08) }

/* TOOL-PAGE LIGHT: override some inputs & buttons */
body.tool-light .cta-btn{ background:linear-gradient(90deg,var(--accent-dark),var(--neon-mag)); color:#fff; border:0; padding:10px 16px; border-radius:10px }
body.tool-light .file-input{ background:var(--panel-light); border:1px solid rgba(0,0,0,0.06); color:var(--muted-dark) }

/* reduced motion */
@media (prefers-reduced-motion: reduce){
  .tile, .tile *{ transition:none!important; animation:none!important; transform:none!important }
  html{ scroll-behavior:auto }
}

/* responsive */
@media(max-width:1100px){
  .preview-box{ width:100%; order:2 } .controls{ order:1 } .res500-wrap{ flex-direction:column }
}
@media(max-width:900px){
  .home{ grid-template-columns: repeat(2,1fr) } .preview-wrap{ flex-direction:column }
}
@media(max-width:600px){
  .footer-brand{ font-size:36px } .logo{ width:48px; height:48px; font-size:14px }
  .hero h1{ font-size:28px }
  .tile{ min-height:130px; padding:12px }
}

/* small contrast bump for readability on dark bg */
.tile p, .meta, .footer-nav a{ color:#cbe8f7 }

/* focus rings */
:focus-visible{ outline: 3px solid rgba(0,240,255,0.06); border-radius:6px }
</style>
</head>
<body>
  <!-- LOADING OVERLAY (IMPROVED) -->
  <div id="loadingOverlay" role="status" aria-live="polite" aria-label="Loading PixelKit">
    <div style="display:flex;flex-direction:column;align-items:center;gap:10px">
      <div class="loading-dots" aria-hidden="true">
        <div class="loading-dot"></div>
        <div class="loading-dot"></div>
        <div class="loading-dot"></div>
      </div>
      <div style="color:var(--muted); font-size:14px">PixelKit is preparing tools‚Ä¶</div>
    </div>
  </div>

  <div class="wrap" id="appWrap" aria-live="polite">
    <!-- HEADER -->
    <header>
      <div class="brand" style="display:flex;align-items:center;gap:14px">
        <div class="logo" aria-hidden="true">PK</div>
        <div style="display:flex;flex-direction:column">
          <div style="font-family:Orbitron;color:var(--neon-cyan);font-size:20px">PixelKit</div>
          <div style="color:var(--muted);font-size:13px">Neon ‚Ä¢ Fast</div>
        </div>
      </div>

      <div style="display:flex;align-items:center;gap:12px">
        <nav class="top-nav" aria-label="Main navigation">
          <a href="#home" onclick="showHome();return false;">Home</a>
          <a href="#about" onclick="showTool('about');return false;">About</a>
        </nav>

        <button id="themeToggle" aria-label="Toggle dark/light" title="Toggle theme" style="background:transparent;border:1px solid rgba(255,255,255,0.04);padding:8px;border-radius:8px;color:var(--muted)">
          ‚òÄÔ∏é
        </button>
      </div>
    </header>

    <!-- HOME -->
    <main id="homeView">
      <section class="hero" role="region" aria-labelledby="heroHeading">
        <h1 id="heroHeading">Welcome to PixelKit.com</h1>
        <p>Fast, powerful & elegant tools for creators, designers and editors.</p>
        <div class="hero-cta">
          <button class="cta-btn" onclick="showTool('resizer2048')">Try Tools ‚Äî Start with Cover Maker</button>
        </div>
      </section>

      <h2 class="tools-title">Tools</h2>
      <div class="home" role="list">
        <!-- Tiles (each tile triggers showTool with id) -->
        <div class="tile" role="button" tabindex="0" aria-pressed="false" onclick="showTool('urltool')" onkeydown="tileKeyNav(event,'urltool')" aria-label="Open URL to HTML converter">
          <div class="icon" aria-hidden="true">
            <svg viewBox="0 0 24 24" fill="none" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"><path d="M10 14a3 3 0 0 1 0-4l1-1a3 3 0 0 1 4.24 0l1 1a3 3 0 0 1 0 4.24l-1 1"/><path d="M14 10a3 3 0 0 1 0 4l-1 1a3 3 0 0 1-4.24 0l-1-1a3 3 0 0 1 0-4.24l1-1"/></svg>
          </div>
          <h3>URL ‚Üí HTML</h3>
          <p>Paste URLs ‚Üí anchor tags</p>
        </div>

        <div class="tile" role="button" tabindex="0" onclick="showTool('linkShuffle')" onkeydown="tileKeyNav(event,'linkShuffle')" aria-label="Open Link Shuffle">
          <div class="icon" aria-hidden="true"><svg viewBox="0 0 24 24" fill="none" stroke-width="1.6"><path d="M16 3h5v5"/><path d="M21 3l-6.586 6.586"/><path d="M8 21H3v-5"/><path d="M3 21l6.586-6.586"/></svg></div>
          <h3>Link Shuffle</h3>
          <p>Shuffle & copy URL list</p>
        </div>

        <div class="tile" role="button" tabindex="0" onclick="showTool('descShorter')" onkeydown="tileKeyNav(event,'descShorter')" aria-label="Open Description Shorter">
          <div class="icon" aria-hidden="true"><svg viewBox="0 0 24 24" fill="none" stroke-width="1.6"><path d="M3 6h18M3 12h12M3 18h18"/></svg></div>
          <h3>Desc Shorter</h3>
          <p>Shorten descriptions</p>
        </div>

        <div class="tile" role="button" tabindex="0" onclick="showTool('resizer500')" onkeydown="tileKeyNav(event,'resizer500')" aria-label="Open Logo Maker 500 by 500">
          <div class="icon" aria-hidden="true"><svg viewBox="0 0 24 24" fill="none" stroke-width="1.6"><rect x="3" y="3" width="18" height="18" rx="2"/></svg></div>
          <h3>Logo Maker (500√ó500)</h3>
          <p>Interactive resize & position</p>
        </div>

        <div class="tile" role="button" tabindex="0" onclick="showTool('resizer2048')" onkeydown="tileKeyNav(event,'resizer2048')" aria-label="Open Cover Maker 2048 by 1152">
          <div class="icon" aria-hidden="true"><svg viewBox="0 0 24 24" fill="none" stroke-width="1.6"><rect x="3" y="6" width="18" height="12" rx="2"/><path d="M3 12h18"/></svg></div>
          <h3>Cover Maker (2048√ó1152)</h3>
          <p>Fit / crop photos to exact size</p>
        </div>

        <div class="tile" role="button" tabindex="0" onclick="showTool('resizer')" onkeydown="tileKeyNav(event,'resizer')" aria-label="Open Image Resizer Pro">
          <div class="icon" aria-hidden="true"><svg viewBox="0 0 24 24" fill="none" stroke-width="1.6"><path d="M21 16V8a2 2 0 0 0-2-2h-4"/><path d="M3 8v8a2 2 0 0 0 2 2h4"/><path d="M7 12h10"/></svg></div>
          <h3>Image Resizer Pro</h3>
          <p>Resize to any px / in / cm</p>
        </div>

        <div class="tile" role="button" tabindex="0" onclick="showTool('converter')" onkeydown="tileKeyNav(event,'converter')" aria-label="Open ImgConvert">
          <div class="icon" aria-hidden="true"><svg viewBox="0 0 24 24" fill="none" stroke-width="1.6"><path d="M12 3v18M3 12h18"/></svg></div>
          <h3>ImgConvert</h3>
          <p>PNG ‚áÜ JPG ‚áÜ WEBP</p>
        </div>

        <div class="tile" role="button" tabindex="0" onclick="showTool('compressor')" onkeydown="tileKeyNav(event,'compressor')" aria-label="Open ImgCompressor">
          <div class="icon" aria-hidden="true"><svg viewBox="0 0 24 24" fill="none" stroke-width="1.6"><path d="M12 2v6M12 22v-6"/><path d="M5 7l6 4 6-4"/><path d="M5 17l6-4 6 4"/></svg></div>
          <h3>ImgCompressor</h3>
          <p>Reduce filesize with quality control</p>
        </div>
      </div>
    </main>

    <!-- ====================
         TOOL PAGES (LIGHT UI)
         ==================== -->

    <!-- RESIZER (basic) -->
    <section id="resizer" class="tool-page" aria-hidden="true">
      <button class="back" onclick="showHome()">‚Üê Back to Tools</button>
      <h2>Image Resizer Pro</h2>
      <div class="file-input"><input type="file" id="resizeFile" accept="image/*" aria-label="Choose image to resize"></div>
      <label>Width (px)</label><input type="number" id="w" placeholder="e.g. 800" value="500">
      <label>Height (px)</label><input type="number" id="h" placeholder="e.g. 500" value="500">

      <div class="controls-row">
        <label>Output format</label>
        <select id="outFormat" class="small">
          <option value="image/png">PNG (keep transparency)</option>
          <option value="image/jpeg">JPG</option>
          <option value="image/webp">WEBP</option>
        </select>

        <label>Background</label>
        <select id="bgFill" class="small">
          <option value="transparent">Transparent (when PNG)</option>
          <option value="#ffffff">White</option>
          <option value="#000000">Black</option>
          <option value="#0a3bff">Blue</option>
        </select>

        <label>Quality</label>
        <input id="outQuality" class="small" type="number" min="10" max="100" value="90">
      </div>

      <div style="margin-top:14px">
        <button class="cta-btn" onclick="generateResized()">Generate</button>
        <button id="downloadBtn" class="cta-btn" style="display:none;margin-left:8px" onclick="downloadResized()">Download</button>
        <span id="status" style="margin-left:12px;color:var(--muted)"></span>
      </div>

      <div class="preview-wrap" id="resPreview" style="display:none">
        <img id="resPreviewImg" class="preview-img" alt="Resized preview image">
        <div class="meta">
          <div class="muted">Original:</div>
          <div id="origMeta" class="muted" style="margin-bottom:8px"></div>
          <div class="muted">Generated:</div>
          <div id="genMeta" class="muted" style="margin-bottom:8px"></div>
        </div>
      </div>
    </section>

    <!-- CONVERTER -->
    <section id="converter" class="tool-page" aria-hidden="true">
      <button class="back" onclick="showHome()">‚Üê Back to Tools</button>
      <h2>ImgConvert</h2>
      <div class="file-input"><input type="file" id="convertFile" accept="image/*" aria-label="Choose file to convert"></div>
      <label>Convert To</label>
      <select id="format">
        <option value="image/png">PNG</option>
        <option value="image/jpeg">JPG</option>
        <option value="image/webp">WEBP</option>
      </select>
      <button class="cta-btn" onclick="convertImage()">Convert</button>
      <div id="convertResult" style="margin-top:12px"></div>
    </section>

    <!-- COMPRESSOR -->
    <section id="compressor" class="tool-page" aria-hidden="true">
      <button class="back" onclick="showHome()">‚Üê Back to Tools</button>
      <h2>ImgCompressor</h2>
      <div class="file-input"><input type="file" id="compressFile" accept="image/*" aria-label="Choose file to compress"></div>
      <label>Quality (1‚Äì100)</label><input type="number" id="quality" value="70" min="1" max="100">
      <button class="cta-btn" onclick="compressImage()">Compress</button>
      <div id="compressResult" style="margin-top:12px"></div>
    </section>

    <!-- URL ‚Üí HTML -->
    <section id="urltool" class="tool-page" aria-hidden="true">
      <button class="back" onclick="showHome()">‚Üê Back to Tools</button>
      <h2>URL ‚Üí HTML Converter</h2>

      <div class="form-row">
        <label class="muted">Options</label>
        <div style="display:flex;gap:12px;flex-wrap:wrap;margin-top:8px;align-items:center">
          <label style="color:var(--muted)"><input type="checkbox" id="optNewTab" checked> Open in new tab (target="_blank")</label>
          <label style="color:var(--muted)"><input type="checkbox" id="optRel"> Add rel="noopener noreferrer"</label>
          <label style="color:var(--muted)"><input type="checkbox" id="optAutoText"> Use domain as link text</label>
        </div>

        <div style="margin-top:10px;color:var(--muted)">
          Output format:
          <label style="margin-left:12px"><input type="radio" name="outFmt" value="lines" checked> One link per line</label>
          <label style="margin-left:12px"><input type="radio" name="outFmt" value="p"> Wrap all links in single &lt;p&gt; with &lt;br&gt;</label>
        </div>
      </div>

      <div class="form-row">
        <label class="muted">Paste your list of URLs below</label>
        <textarea id="urlInput" placeholder="https://example.com/page1
https://example.net/article
..." style="min-height:140px"></textarea>
      </div>

      <div style="margin-top:10px">
        <button class="cta-btn" onclick="convertURLAdvanced()">Convert</button>
        <button class="cta-btn" style="background:transparent;color:var(--muted);border:1px solid rgba(0,0,0,0.06);" onclick="resetURLTool()">Reset</button>
        <span id="urlStatus" style="margin-left:12px;color:var(--muted)"></span>
      </div>

      <div class="form-row" style="margin-top:16px">
        <label class="muted">URLs Converted into HTML Links Code</label>
        <textarea id="urlOutput" readonly placeholder="Converted HTML will appear here..." style="min-height:120px"></textarea>
      </div>

      <div style="margin-top:10px">
        <button class="cta-btn" onclick="copyUrlOutput()">Copy to Clipboard</button>
      </div>
    </section>

    <!-- 2048x1152 -->
    <section id="resizer2048" class="tool-page" aria-hidden="true">
      <button class="back" onclick="showHome()">‚Üê Back to Tools</button>
      <h2>2048 √ó 1152 Cover Maker</h2>

      <div class="panel">
        <div class="file-input">
          <input type="file" id="file2048" accept="image/*">
          <div style="margin-top:8px;color:var(--muted);font-size:13px">Supported: PNG / JPG / WEBP ‚Äî client-side</div>
        </div>

        <div class="row" style="margin-top:12px">
          <label>Mode</label>
          <select id="mode2048">
            <option value="fit">Fit (preserve aspect, max 2048√ó1152)</option>
            <option value="crop">Crop (center ‚Üí exact 2048√ó1152)</option>
          </select>

          <label>Output format</label>
          <select id="outfmt2048">
            <option value="image/png">PNG</option>
            <option value="image/jpeg">JPG</option>
            <option value="image/webp">WEBP</option>
          </select>

          <label>Quality (JPG/WEBP)</label>
          <input id="outq2048" type="number" min="10" max="100" value="92">
        </div>

        <div class="row" style="margin-top:12px">
          <button class="cta-btn" onclick="generate2048()">Generate 2048√ó1152</button>
          <button id="download2048" class="cta-btn" style="display:none" onclick="downloadGenerated()">Download</button>
          <span id="status2048" style="margin-left:12px;color:var(--muted)"></span>
        </div>

        <div class="preview-card" id="previewWrap" style="display:none;margin-top:18px">
          <img id="previewImg" class="preview-img" alt="Generated cover preview">
          <div style="text-align:left">
            <div class="meta"><strong style="color:var(--neon-cyan)">Original</strong></div>
            <div id="origMeta2048" class="meta" style="margin-bottom:10px"></div>

            <div class="meta"><strong style="color:var(--neon-cyan)">Generated</strong></div>
            <div id="genMeta2048" class="meta" style="margin-bottom:8px"></div>

            <div id="hint2048" class="meta">Tip: use "Crop" for exact wallpaper-sized output.</div>
          </div>
        </div>

        <div id="canvasContainer" style="display:none"></div>
      </div>
    </section>

    <!-- 500x500 -->
    <section id="resizer500" class="tool-page" aria-hidden="true">
      <button class="back" onclick="showHome()">‚Üê Back to Tools</button>
      <h2>500 √ó 500 Logo Maker</h2>

      <div class="res500-wrap" style="display:flex;gap:18px;align-items:flex-start;flex-wrap:wrap">
        <div class="controls" style="flex:1;min-width:300px">
          <div class="file-input"><input type="file" id="file500" accept="image/*"></div>

          <div class="controls-row" style="margin-top:12px">
            <label>Background</label>
            <select id="bg500" class="small">
              <option value="transparent">Transparent (PNG)</option>
              <option value="#ffffff">White</option>
              <option value="#000000">Black</option>
              <option value="#0a3bff">Blue</option>
              <option value="custom">Custom HEX</option>
            </select>
            <input id="bgCustom500" class="small" placeholder="#f0f0f0" style="display:none;margin-left:6px">
          </div>

          <div class="controls-row">
            <label>Output format</label>
            <select id="fmt500" class="small">
              <option value="image/png">PNG</option>
              <option value="image/jpeg">JPG</option>
              <option value="image/webp">WEBP</option>
            </select>

            <label>Quality (JPG/WEBP)</label>
            <input id="q500" class="small" type="number" min="10" max="100" value="92">
          </div>

          <div style="margin-top:14px">
            <label class="muted">Zoom</label>
            <div style="display:flex;align-items:center;gap:12px;margin-top:6px">
              <input id="zoom500" type="range" min="0.1" max="3" step="0.01" value="1">
              <div class="meta" id="zoomVal500">100%</div>
            </div>
          </div>

          <div style="margin-top:10px">
            <label class="muted">Rotate (¬∞)</label>
            <div style="display:flex;align-items:center;gap:12px;margin-top:6px">
              <input id="rot500" type="range" min="-180" max="180" step="1" value="0">
              <div class="meta" id="rotVal500">0¬∞</div>
            </div>
          </div>

          <div style="margin-top:10px">
            <label class="muted">Position X</label>
            <div style="display:flex;align-items:center;gap:12px;margin-top:6px">
              <input id="posX500" type="range" min="-500" max="500" step="1" value="0">
              <div class="meta" id="posXVal500">0 px</div>
            </div>
          </div>

          <div style="margin-top:10px">
            <label class="muted">Position Y</label>
            <div style="display:flex;align-items:center;gap:12px;margin-top:6px">
              <input id="posY500" type="range" min="-500" max="500" step="1" value="0">
              <div class="meta" id="posYVal500">0 px</div>
            </div>
          </div>

          <div style="margin-top:14px;display:flex;gap:10px;align-items:center;flex-wrap:wrap">
            <button class="cta-btn" id="gen500">Generate</button>
            <button class="cta-btn" id="dl500" style="display:none">Download</button>
            <button class="cta-btn" id="reset500" style="background:transparent;border:1px solid rgba(0,0,0,0.06);color:var(--muted)">Reset</button>
            <span id="status500" style="margin-left:10px;color:var(--muted)"></span>
          </div>
        </div>

        <div class="preview-box" style="width:520px;display:flex;flex-direction:column;gap:10px;align-items:center">
          <div class="canvas-frame" style="width:500px;height:500px;border-radius:10px;border:1px solid rgba(255,255,255,0.04);background:#071226;display:flex;align-items:center;justify-content:center;overflow:hidden;box-shadow:0 8px 28px rgba(0,0,0,0.6)">
            <canvas id="canvas500" width="500" height="500" style="display:block"></canvas>
          </div>
          <div style="width:100%;display:flex;justify-content:space-between;align-items:center">
            <div class="meta" id="origInfo500"></div>
            <div class="meta" id="outInfo500"></div>
          </div>
        </div>
      </div>
    </section>

    <!-- DESC SHORTER -->
    <section id="descShorter" class="tool-page" aria-hidden="true">
      <button class="back" onclick="showHome()">‚Üê Back to Tools</button>
      <h2>Description Shorter</h2>

      <div style="margin-top:12px" class="file-input">
        <div style="color:var(--muted);font-size:13px">Paste your long description below ‚Äî choose limit and mode, then click Shorten.</div>
      </div>

      <div style="margin-top:12px">
        <label class="muted">Original description</label>
        <textarea id="descInput" placeholder="Paste full description here..." style="width:100%;height:140px;background:#fff;color:#000;border-radius:8px;padding:10px"></textarea>
      </div>

      <div class="controls-row" style="margin-top:12px;align-items:center">
        <label class="muted">Max characters</label>
        <input id="charLimit" type="number" min="10" value="160" class="small" style="max-width:140px">
        <label class="muted" style="margin-left:12px">Mode</label>
        <select id="shortMode" class="small">
          <option value="hard">Hard truncate (cut exactly)</option>
          <option value="word" selected>Word-aware (don't break words)</option>
          <option value="sentence">Sentence-aware (keep full sentences)</option>
        </select>

        <label style="margin-left:12px" class="muted"><input type="checkbox" id="addEllipsis" checked> Add "..." if shortened</label>
      </div>

      <div style="margin-top:14px">
        <button class="cta-btn" onclick="shortenDescription()">Shorten</button>
        <button class="cta-btn" style="background:transparent;border:1px solid rgba(0,0,0,0.06);color:var(--muted)" onclick="resetDescTool()">Reset</button>
        <span id="descStatus" style="margin-left:12px;color:var(--muted)"></span>
      </div>

      <div style="margin-top:14px">
        <label class="muted">Shortened result</label>
        <textarea id="descOutput" readonly style="width:100%;height:120px;background:#fff;color:#000;border-radius:8px;padding:10px"></textarea>
      </div>

      <div style="margin-top:10px">
        <button class="cta-btn" onclick="copyDescOutput()">Copy to Clipboard</button>
      </div>
    </section>

    <!-- LINK SHUFFLE -->
    <section id="linkShuffle" class="tool-page" aria-hidden="true">
      <button class="back" onclick="showHome()">‚Üê Back to Tools</button>
      <div class="shuffle-container" style="max-width:980px;margin:0 auto">
        <div class="shuffle-card" style="background:var(--panel-light);border-radius:10px;padding:18px;border:1px solid rgba(0,0,0,0.06);">
          <h1 style="font-family:Orbitron;color:var(--accent-dark);font-size:22px;margin-bottom:8px">RANDOM LINK MIXER</h1>

          <div class="section-title" style="display:flex;align-items:center;gap:8px"><span class="icon">üîó</span> Enter URLs (one per line)</div>
          <textarea id="inputLinks" placeholder="Paste your links here... (one URL per line)" style="width:100%;min-height:140px"></textarea>

          <div class="meta-row" style="display:flex;justify-content:space-between;margin-top:8px">
            <div>Characters: <strong id="charCount" style="color:var(--accent-dark)">0</strong></div>
            <div style="font-size:13px;color:var(--muted)">Tip: blank lines will be ignored ‚Ä¢ Ctrl/Cmd+Enter to shuffle</div>
          </div>

          <div style="margin-top:12px"><button class="cta-btn" id="shuffleBtn">SHUFFLE LINKS</button></div>

          <div style="margin-top:12px">
            <div style="display:flex;align-items:center;gap:8px"><strong style="color:var(--accent-dark)">Shuffled URLs</strong></div>
            <textarea id="outputLinks" placeholder="Shuffled links will appear here..." readonly style="width:100%;min-height:120px"></textarea>

            <div class="meta-row" style="margin-top:10px;display:flex;justify-content:space-between;align-items:center">
              <div>Count: <span id="countNum" style="background:rgba(0,0,0,0.02);padding:6px 10px;border-radius:6px;color:var(--muted)">0</span></div>
              <div style="display:flex;gap:8px;align-items:center">
                <button id="copyBtn" class="cta-btn" style="background:linear-gradient(90deg,#6fb4ff,#7ecbff);padding:8px 12px">COPY</button>
                <button id="clearBtn" class="cta-btn" style="background:#555;color:#fff;padding:8px 12px">CLEAR</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- ABOUT -->
    <section id="about" class="tool-page" aria-hidden="true">
      <button class="back" onclick="showHome()">‚Üê Back to Tools</button>
      <h2>About PixelKit</h2>
      <div style="margin-top:12px;color:var(--muted);line-height:1.6">
        <p>
          PixelKit was created to make image tasks fast and simple. We build client-side tools so your images stay on your device unless you share them.
        </p>
        <p>
          Use PixelKit to quickly make covers, logos, convert formats, compress images, or prepare visuals for social and web. It's lightweight, privacy-minded, and focused on productivity.
        </p>
        <p>
          If you'd like a feature or report an issue, contact me ‚Äî links are in the Contact section.
        </p>
      </div>
    </section>

    <!-- TERMS -->
    <section id="terms" class="tool-page" aria-hidden="true">
      <button class="back" onclick="showHome()">‚Üê Back to Tools</button>
      <h2>Terms &amp; Conditions</h2>
      <div style="margin-top:12px;color:var(--muted);line-height:1.6">
        <p><strong>Acceptance:</strong> By using PixelKit, you agree to these terms. PixelKit may update features and terms at any time.</p>
        <p><strong>No warranties:</strong> Tools are provided "as is". We aim for accuracy but do not guarantee outcomes for every device or input.</p>
        <p><strong>Privacy:</strong> Most processing occurs in your browser. See Privacy & Policy for details.</p>
        <p><strong>Liability:</strong> PixelKit is not liable for indirect losses or damages resulting from use of the tools.</p>
      </div>
    </section>

    <!-- PRIVACY -->
    <section id="privacy" class="tool-page" aria-hidden="true">
      <button class="back" onclick="showHome()">‚Üê Back to Tools</button>
      <h2>Privacy &amp; Policy</h2>
      <div style="margin-top:12px;color:var(--muted);line-height:1.6">
        <p><strong>Overview:</strong> PixelKit processes images in-browser whenever possible. Files are not uploaded by default.</p>
        <p><strong>Data:</strong> We do not sell your data. If you use a sharing/upload feature, you'll be informed.</p>
        <p><strong>Third parties:</strong> We use Google Fonts. Analytics (if any) are minimal and privacy-focused.</p>
      </div>
    </section>

    <!-- CONTACT -->
    <section id="contact" class="tool-page" aria-hidden="true">
      <button class="back" onclick="showHome()">‚Üê Back to Tools</button>
      <h2>Contact</h2>
      <div style="margin-top:12px;color:var(--muted);line-height:1.6">
        <p>Reach out on social or via email:</p>
        <ul style="list-style:none;padding:0;margin-top:12px">
          <li style="margin-bottom:8px">Email: <a href="mailto:litonshakh5@gmail.com" style="color:var(--neon-cyan)">litonshakh5@gmail.com</a></li>
          <li style="margin-bottom:8px">Facebook: <a href="https://www.facebook.com/nbliton2/" target="_blank" rel="noopener" style="color:var(--neon-cyan)">facebook.com/nbliton2</a></li>
          <li style="margin-bottom:8px">X (Twitter): <a href="https://x.com/LitonShakh1" target="_blank" rel="noopener" style="color:var(--neon-cyan)">x.com/LitonShakh1</a></li>
          <li style="margin-bottom:8px">WhatsApp: <a href="https://wa.me/message/2KKCICT25LSYM1" target="_blank" rel="noopener" style="color:var(--neon-cyan)">Chat on WhatsApp</a></li>
        </ul>
      </div>
    </section>

    <!-- FOOTER -->
    <footer class="site-footer" role="contentinfo">
      <div class="footer-inner">
        <div style="display:flex;flex-direction:column;align-items:flex-start;gap:8px">
          <div class="footer-brand">PixelKit</div>
          <div class="footer-copy">2025 ¬© All Rights Reserved ‚Äî PixelKit</div>
        </div>

        <nav class="footer-nav" aria-label="Footer navigation">
          <a href="#about" onclick="showTool('about');return false;">About</a>
          <a href="#contact" onclick="showTool('contact');return false;">Contact</a>
          <a href="#terms" onclick="showTool('terms');return false;">Terms &amp; Conditions</a>
          <a href="#privacy" onclick="showTool('privacy');return false;">Privacy &amp; Policy</a>
        </nav>

        <div class="footer-right" style="display:flex;align-items:center;gap:10px">
          <a href="https://www.facebook.com/nbliton2/" target="_blank" rel="noopener" aria-label="Facebook" class="social" style="display:inline-flex;width:34px;height:34px;align-items:center;justify-content:center;border-radius:50%;border:1px solid rgba(255,255,255,0.04);color:#9fb0c8;text-decoration:none">f</a>
          <a href="https://x.com/LitonShakh1" target="_blank" rel="noopener" aria-label="X" class="social" style="display:inline-flex;width:34px;height:34px;align-items:center;justify-content:center;border-radius:50%;border:1px solid rgba(255,255,255,0.04);color:#9fb0c8;text-decoration:none">t</a>
          <a href="https://www.youtube.com/" target="_blank" rel="noopener" aria-label="YouTube" class="social" style="display:inline-flex;width:34px;height:34px;align-items:center;justify-content:center;border-radius:50%;border:1px solid rgba(255,255,255,0.04);color:#9fb0c8;text-decoration:none">‚ñ∏</a>
          <a href="https://wa.me/message/2KKCICT25LSYM1" target="_blank" rel="noopener" aria-label="WhatsApp" class="social" style="display:inline-flex;width:34px;height:34px;align-items:center;justify-content:center;border-radius:50%;border:1px solid rgba(255,255,255,0.04);color:#9fb0c8;text-decoration:none">‚úÜ</a>
        </div>
      </div>
    </footer>

  </div>

<script>
/* ---------------------------
 Navigation & tool-light handling
 --------------------------- */
function showHome(push = true){
  document.body.classList.remove('tool-light'); // ensure dark home
  const home = document.getElementById('homeView'); if(home) home.style.display = 'block';
  const ids = ['urltool','linkShuffle','descShorter','resizer500','resizer2048','resizer','converter','compressor','about','terms','privacy','contact'];
  ids.forEach(id=>{
    const el=document.getElementById(id);
    if(el){ el.classList.remove('active'); el.setAttribute('aria-hidden','true'); el.style.display='none'; }
  });
  if(push){ try{ history.pushState({page:'home'}, '', '#home'); }catch(e){} }
  window.scrollTo({top:0,behavior:'smooth'});
}

function showTool(id, push = true){
  // if opening a tool page, switch to light tools UI
  document.body.classList.add('tool-light');
  const home = document.getElementById('homeView'); if(home) home.style.display = 'none';
  const ids = ['urltool','linkShuffle','descShorter','resizer500','resizer2048','resizer','converter','compressor','about','terms','privacy','contact'];
  ids.forEach(k=>{
    const el=document.getElementById(k);
    if(!el) return;
    if(k===id){ el.classList.add('active'); el.style.display='block'; el.setAttribute('aria-hidden','false'); } else { el.classList.remove('active'); el.style.display='none'; el.setAttribute('aria-hidden','true'); }
  });
  if(push){ try{ history.pushState({page: id}, '', '#'+id); }catch(e){} }
  window.scrollTo({top:0,behavior:'smooth'});
}

// popstate
window.addEventListener('popstate', function(event){
  const state = event.state;
  if(state && state.page){
    if(state.page === 'home') showHome(false);
    else showTool(state.page, false);
    return;
  }
  const hash = (location.hash || '').replace('#','');
  if(!hash || hash === 'home'){ showHome(false); } else { const el = document.getElementById(hash); if(el) showTool(hash, false); else showHome(false); }
});

// init from hash
(function(){ const hash = (location.hash || '').replace('#',''); if(!hash || hash === 'home'){ showHome(false); } else { const el = document.getElementById(hash); if(el) showTool(hash, false); else showHome(false); } })();

/* ---------------------------
 Loading overlay handling (reliable + fallback)
 --------------------------- */
(function(){
  const overlay = document.getElementById('loadingOverlay');
  if(!overlay) return;

  function hideOverlay(reason){
    if(!overlay) return;
    overlay.classList.add('hidden');
    overlay.setAttribute('aria-hidden','true');
    setTimeout(()=>{ try{ overlay.remove(); }catch(e){} }, 700);
    console.info('Loading overlay hidden ‚Äî', reason);
  }

  function onDomReady(){
    setTimeout(()=> hideOverlay('domcontentloaded'), 140);
    removeListeners();
  }

  function onFullLoad(){ setTimeout(()=> hideOverlay('window.load'), 80); removeListeners(); }

  const fallbackTimeout = setTimeout(()=> { hideOverlay('fallback-timeout'); removeListeners(); }, 3000);

  function removeListeners(){
    document.removeEventListener('DOMContentLoaded', onDomReady);
    window.removeEventListener('load', onFullLoad);
    clearTimeout(fallbackTimeout);
  }

  document.addEventListener('DOMContentLoaded', onDomReady, { once:true });
  window.addEventListener('load', onFullLoad, { once:true });

  window.addEventListener('hashchange', ()=> { if(overlay && !overlay.classList.contains('hidden')) hideOverlay('hashchange'); });

  document.addEventListener('keydown', function(e){
    if(e.key === 'Escape' && overlay && !overlay.classList.contains('hidden')){ hideOverlay('escape-key'); }
  });

  setTimeout(()=> { if(overlay && !overlay.classList.contains('hidden')) overlay.style.pointerEvents='none'; }, 3500);
})();

/* ---------------------------
 Theme toggle (persist)
 --------------------------- */
const themeToggle = document.getElementById('themeToggle');
function updateThemeIcon(){ themeToggle.textContent = document.body.classList.contains('light-mode') ? '‚òæ' : '‚òÄÔ∏é'; }
themeToggle.addEventListener('click', ()=>{
  document.body.classList.toggle('light-mode');
  try{ localStorage.setItem('pixelkit_theme_mode', document.body.classList.contains('light-mode') ? 'light' : 'dark'); }catch(e){}
  updateThemeIcon();
});
(function applyTheme(){
  try{ const t = localStorage.getItem('pixelkit_theme_mode'); if(t === 'light') document.body.classList.add('light-mode'); }catch(e){}
  updateThemeIcon();
})();

/* keyboard support for tile */
function tileKeyNav(e,id){ if(e.key === 'Enter' || e.key === ' '){ e.preventDefault(); showTool(id); } }

/* small helper */
function humanFileSize(bytes) {
  if(!bytes) return '';
  const k = 1024, dm = 1;
  const sizes = ['B','KB','MB','GB'];
  const i = Math.floor(Math.log(bytes) / Math.log(k));
  return parseFloat((bytes / Math.pow(k, i)).toFixed(dm)) + ' ' + sizes[i];
}

/* ===========================
   Tool functions (resizer, converter, compressor, etc.)
   =========================== */

/* RESIZER (basic) */
let lastGeneratedUrl = null;
function generateResized(){
  const file = document.getElementById('resizeFile').files[0];
  if(!file){ alert('Please choose an image'); return; }
  const w = parseInt(document.getElementById('w').value,10);
  const h = parseInt(document.getElementById('h').value,10);
  if(!w || !h){ alert('Enter valid width and height'); return; }
  const outFormat = document.getElementById('outFormat').value;
  const bgFill = document.getElementById('bgFill').value;
  const qualityInput = parseInt(document.getElementById('outQuality').value,10) || 90;
  const quality = Math.max(0.1, Math.min(1, qualityInput/100));
  const statusEl = document.getElementById('status');
  statusEl.textContent = 'Loading image...';
  const img = new Image();
  img.onload = function(){
    const canvas = document.createElement('canvas');
    canvas.width = w; canvas.height = h;
    const ctx = canvas.getContext('2d');
    let fill = bgFill;
    if(fill === 'transparent'){
      if(outFormat !== 'image/png'){ fill = '#ffffff'; } else { ctx.clearRect(0,0,w,h); }
    }
    if(fill && fill !== 'transparent'){ ctx.fillStyle = fill; ctx.fillRect(0,0,w,h); }
    const iw = img.width, ih = img.height;
    const scale = Math.min(w/iw, h/ih);
    const dw = Math.round(iw * scale), dh = Math.round(ih * scale);
    const dx = Math.round((w - dw)/2), dy = Math.round((h - dh)/2);
    ctx.drawImage(img, 0, 0, iw, ih, dx, dy, dw, dh);
    if(lastGeneratedUrl){ URL.revokeObjectURL(lastGeneratedUrl); lastGeneratedUrl = null; }
    statusEl.textContent = 'Rendering...';
    canvas.toBlob(function(blob){
      if(!blob){ statusEl.textContent = 'Failed to render'; return; }
      const url = URL.createObjectURL(blob);
      lastGeneratedUrl = url;
      document.getElementById('resPreview').style.display = 'flex';
      document.getElementById('resPreviewImg').src = url;
      document.getElementById('origMeta').textContent = `${img.width} √ó ${img.height} ‚Äî ${humanFileSize(file.size)}`;
      document.getElementById('genMeta').textContent = `${w} √ó ${h} ‚Äî ${humanFileSize(blob.size)} ‚Äî ${outFormat.split('/')[1].toUpperCase()}`;
      const dl = document.getElementById('downloadBtn');
      dl.style.display = 'inline-block';
      const ext = outFormat === 'image/png' ? 'png' : (outFormat === 'image/jpeg' ? 'jpg' : 'webp');
      dl.dataset.url = url; dl.dataset.name = `resized-${w}x${h}.${ext}`;
      statusEl.textContent = 'Done';
    }, outFormat, quality);
  };
  img.onerror = function(){ statusEl.textContent = 'Failed to load image'; };
  img.src = URL.createObjectURL(file);
}
function downloadResized(){
  const dl = document.getElementById('downloadBtn'); const url = dl.dataset.url; const name = dl.dataset.name || 'resized.png';
  if(!url){ alert('No generated image yet'); return; }
  const a = document.createElement('a'); a.href = url; a.download = name; document.body.appendChild(a); a.click(); a.remove();
}

/* Converter */
function convertImage(){
  const file=document.getElementById('convertFile').files[0]; if(!file){ alert('Please choose an image'); return; }
  const format=document.getElementById('format').value;
  const img=new Image();
  img.onload=function(){
    const c=document.createElement('canvas'); c.width=img.width; c.height=img.height;
    c.getContext('2d').drawImage(img,0,0);
    const out=document.getElementById('convertResult'); out.innerHTML='';
    const a=document.createElement('a'); a.download='converted'; a.href=c.toDataURL(format); a.textContent='Download converted image';
    a.className = 'cta-btn'; a.style.display='inline-block';
    out.appendChild(a);
  }
  img.src=URL.createObjectURL(file);
}

/* Compressor */
function compressImage(){
  const file=document.getElementById('compressFile').files[0]; if(!file){ alert('Please choose an image'); return; }
  let q=parseInt(document.getElementById('quality').value,10);
  if(isNaN(q) || q<1) q=10; if(q>100) q=100;
  const quality=q/100;
  const img=new Image();
  img.onload=function(){
    const c=document.createElement('canvas'); c.width=img.width; c.height=img.height;
    c.getContext('2d').drawImage(img,0,0);
    const out=document.getElementById('compressResult'); out.innerHTML='';
    const a=document.createElement('a'); a.download='compressed.jpg'; a.href=c.toDataURL('image/jpeg',quality); a.textContent='Download compressed image';
    a.className = 'cta-btn'; out.appendChild(a);
  }
  img.src=URL.createObjectURL(file);
}

/* URL ‚Üí HTML */
function sanitizeUrl(u){ u = u.trim(); if(!u) return ''; if(!/^[a-zA-Z][a-zA-Z0-9+\-.]*:\/\//.test(u)){ u = 'https://' + u; } return u; }
function getDomainText(u){ try{ const urlObj = new URL(u); return urlObj.hostname.replace(/^www\./,''); }catch(e){ return u; } }
function escapeHtml(str){ return String(str).replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;').replace(/"/g,'&quot;'); }
function convertURLAdvanced(){
  const input = document.getElementById('urlInput').value;
  const lines = input.split(/\r?\n/).map(s=>s.trim()).filter(Boolean);
  if(lines.length === 0){ setUrlStatus('Please paste at least one URL', true); return; }
  const newTab = document.getElementById('optNewTab').checked;
  const addRel = document.getElementById('optRel').checked;
  const useDomainText = document.getElementById('optAutoText').checked;
  const outFmt = document.querySelector('input[name="outFmt"]:checked').value;
  const relAttr = addRel ? ' rel="noopener noreferrer"' : '';
  const targetAttr = newTab ? ' target="_blank"' : '';
  const results = [];
  for(const line of lines){
    const s = sanitizeUrl(line); if(!s) continue;
    const text = useDomainText ? getDomainText(s) : line;
    const a = `<a href="${escapeHtml(s)}"${targetAttr}${relAttr}>${escapeHtml(text)}</a>`; results.push(a);
  }
  let out = '';
  if(outFmt === 'lines') out = results.join('\n'); else out = '<p>\n' + results.map(r => '  ' + r + '<br>').join('\n') + '\n</p>';
  document.getElementById('urlOutput').value = out;
  setUrlStatus(`Converted ${results.length} URL(s).`, false);
}
function resetURLTool(){ document.getElementById('urlInput').value=''; document.getElementById('urlOutput').value=''; document.getElementById('optNewTab').checked=true; document.getElementById('optRel').checked=false; document.getElementById('optAutoText').checked=false; document.querySelector('input[name="outFmt"][value="lines"]').checked=true; setUrlStatus('', false); }
function copyUrlOutput(){ const text=document.getElementById('urlOutput').value; if(!text){ setUrlStatus('Nothing to copy', true); return; } if(navigator.clipboard && navigator.clipboard.writeText){ navigator.clipboard.writeText(text).then(()=> setUrlStatus('Copied to clipboard ‚úî', false)).catch(()=> fallbackCopySimple(text)); } else { fallbackCopySimple(text); } }
function fallbackCopySimple(text){ const ta=document.createElement('textarea'); ta.value=text; document.body.appendChild(ta); ta.select(); try{ document.execCommand('copy'); setUrlStatus('Copied to clipboard ‚úî', false); }catch(e){ setUrlStatus('Copy failed ‚Äî select and copy manually', true); } ta.remove(); }
function setUrlStatus(msg,isErr){ const el=document.getElementById('urlStatus'); if(!el) return; el.textContent=msg||''; el.style.color=isErr?'#ff8b8b':'var(--muted)'; }

/* 2048x1152 resizer */
const TARGET_W = 2048; const TARGET_H = 1152; let generatedBlobURL = null;
async function generate2048(){
  const fileInput = document.getElementById('file2048'); const file = fileInput.files[0]; if(!file){ alert('Please choose an image file first'); return; }
  const mode = document.getElementById('mode2048').value; const outfmt = document.getElementById('outfmt2048').value; const qualityVal = parseInt(document.getElementById('outq2048').value,10) || 92; const quality = Math.max(0.1, Math.min(1, qualityVal/100));
  setStatus2048('Loading image...');
  let img;
  try { if(window.createImageBitmap) img = await createImageBitmap(file); else img = await loadImageViaElement(URL.createObjectURL(file)); }
  catch(e){ img = await loadImageViaElement(URL.createObjectURL(file)); }
  document.getElementById('origMeta2048').textContent = `${img.width} √ó ${img.height} ‚Äî ${humanFileSize(file.size)}`;
  const canvas = document.createElement('canvas'); canvas.width = TARGET_W; canvas.height = TARGET_H; const ctx = canvas.getContext('2d');
  if(outfmt === 'image/png' || outfmt === 'image/webp') ctx.clearRect(0,0,TARGET_W,TARGET_H); else { ctx.fillStyle = '#0b1220'; ctx.fillRect(0,0,TARGET_W,TARGET_H); }
  const iw = img.width, ih = img.height;
  if(mode === 'fit'){ const scale = Math.min(TARGET_W / iw, TARGET_H / ih); const dw = Math.round(iw * scale); const dh = Math.round(ih * scale); const dx = Math.round((TARGET_W - dw)/2); const dy = Math.round((TARGET_H - dh)/2); ctx.drawImage(img, 0, 0, iw, ih, dx, dy, dw, dh); }
  else { const scale = Math.max(TARGET_W / iw, TARGET_H / ih); const dw = Math.round(iw * scale); const dh = Math.round(ih * scale); const dx = Math.round((TARGET_W - dw)/2); const dy = Math.round((TARGET_H - dh)/2); ctx.drawImage(img, 0, 0, iw, ih, dx, dy, dw, dh); }
  if(generatedBlobURL){ URL.revokeObjectURL(generatedBlobURL); generatedBlobURL = null; }
  setStatus2048('Rendering...');
  canvas.toBlob(function(blob){
    if(!blob){ setStatus2048('Failed to render image.', true); return; }
    const url = URL.createObjectURL(blob); generatedBlobURL = url;
    const preview = document.getElementById('previewImg'); preview.src = url; document.getElementById('previewWrap').style.display = 'flex';
    document.getElementById('genMeta2048').textContent = `${TARGET_W} √ó ${TARGET_H} ‚Äî ${humanFileSize(blob.size)} ‚Äî ${outfmt.split('/')[1].toUpperCase()}`;
    const dl = document.getElementById('download2048'); dl.style.display = 'inline-block'; dl.dataset.blobUrl = url; dl.dataset.filename = `photo-2048x1152.${outfmt === 'image/png' ? 'png' : (outfmt === 'image/jpeg' ? 'jpg' : 'webp')}`; setStatus2048('Done.'); const cc = document.getElementById('canvasContainer'); cc.innerHTML=''; cc.appendChild(canvas);
  }, outfmt, quality);
}
function loadImageViaElement(src){ return new Promise((resolve,reject)=>{ const img=new Image(); img.onload=()=>resolve(img); img.onerror=(e)=>reject(e); img.src=src; }); }
function downloadGenerated(){ const dl=document.getElementById('download2048'); const url=dl.dataset.blobUrl; const filename=dl.dataset.filename||'photo-2048x1152.png'; if(!url){ alert('No generated image yet.'); return; } const a=document.createElement('a'); a.href=url; a.download=filename; document.body.appendChild(a); a.click(); a.remove(); setStatus2048('Downloaded'); }
function setStatus2048(msg,isErr){ const el=document.getElementById('status2048'); if(!el) return; el.textContent=msg||''; el.style.color=isErr?'#ff8b8b':'var(--muted)'; }

/* 500x500 interactive (kept) */
(function(){
  const fileInput = document.getElementById('file500'); const canvas = document.getElementById('canvas500'); const ctx = canvas.getContext('2d');
  const zoom = document.getElementById('zoom500'); const zoomVal = document.getElementById('zoomVal500');
  const rot = document.getElementById('rot500'); const rotVal = document.getElementById('rotVal500');
  const posX = document.getElementById('posX500'); const posXVal = document.getElementById('posXVal500');
  const posY = document.getElementById('posY500'); const posYVal = document.getElementById('posYVal500');
  const bgSel = document.getElementById('bg500'); const bgCustom = document.getElementById('bgCustom500'); const fmt = document.getElementById('fmt500'); const q = document.getElementById('q500');
  const genBtn = document.getElementById('gen500'); const dlBtn = document.getElementById('dl500'); const resetBtn = document.getElementById('reset500');
  const status = document.getElementById('status500'); const origInfo = document.getElementById('origInfo500'); const outInfo = document.getElementById('outInfo500');
  let img = null; let lastBlobUrl = null;
  function setStatusLocal(msg,isErr){ status.textContent = msg||''; status.style.color = isErr ? '#ff8b8b' : 'var(--muted)'; }
  function updateUIValues(){ zoomVal.textContent = Math.round(parseFloat(zoom.value)*100) + '%'; rotVal.textContent = rot.value + '¬∞'; posXVal.textContent = posX.value + ' px'; posYVal.textContent = posY.value + ' px'; }
  bgSel.addEventListener('change', ()=>{ if(bgSel.value === 'custom'){ bgCustom.style.display='inline-block'; } else { bgCustom.style.display='none'; } });
  [zoom, rot, posX, posY].forEach(el=> el.addEventListener('input', ()=>{ updateUIValues(); renderPreview(); }));
  fileInput.addEventListener('change', (e)=>{ const f = e.target.files[0]; if(!f) return; const url = URL.createObjectURL(f); const i = new Image(); i.onload = function(){ img = i; origInfo.textContent = `${img.width}√ó${img.height} ‚Ä¢ ${Math.round(f.size/1024)} KB`; renderPreview(); URL.revokeObjectURL(url); } i.onerror = function(){ setStatusLocal('Failed to load image', true); } i.src = url; });
  function clearLastBlob(){ if(lastBlobUrl){ URL.revokeObjectURL(lastBlobUrl); lastBlobUrl = null; } }
  function renderPreview(){ ctx.clearRect(0,0,500,500); let bg = bgSel.value; if(bg === 'custom'){ bg = bgCustom.value || '#ffffff'; } if(bg !== 'transparent'){ ctx.fillStyle = bg; ctx.fillRect(0,0,500,500); } else { ctx.clearRect(0,0,500,500); } if(!img) return; ctx.save(); const cx = 250 + parseInt(posX.value,10); const cy = 250 + parseInt(posY.value,10); ctx.translate(cx, cy); const angle = parseFloat(rot.value) * Math.PI / 180; ctx.rotate(angle); const scale = parseFloat(zoom.value); const iw = img.width, ih = img.height; const drawW = iw * scale; const drawH = ih * scale; ctx.drawImage(img, -drawW/2, -drawH/2, drawW, drawH); ctx.restore(); }
  genBtn.addEventListener('click', ()=>{ if(!img){ setStatusLocal('Please choose an image first', true); return; } setStatusLocal('Rendering...'); const outCanvas = document.createElement('canvas'); outCanvas.width = 500; outCanvas.height = 500; const outCtx = outCanvas.getContext('2d'); let bg = bgSel.value; if(bg === 'custom'){ bg = bgCustom.value || '#ffffff'; } if(bg === 'transparent' && fmt.value !== 'image/png'){ bg = '#ffffff'; } if(bg !== 'transparent'){ outCtx.fillStyle = bg; outCtx.fillRect(0,0,500,500); } else { outCtx.clearRect(0,0,500,500); } outCtx.save(); const cx = 250 + parseInt(posX.value,10); const cy = 250 + parseInt(posY.value,10); outCtx.translate(cx, cy); const angle = parseFloat(rot.value) * Math.PI / 180; outCtx.rotate(angle); const scale = parseFloat(zoom.value); const iw = img.width, ih = img.height; const drawW = iw * scale; const drawH = ih * scale; outCtx.drawImage(img, -drawW/2, -drawH/2, drawW, drawH); outCtx.restore(); const outFormat = fmt.value; const quality = Math.max(0.1, Math.min(1, (parseInt(q.value,10)||92)/100)); clearLastBlob(); outCanvas.toBlob(function(blob){ if(!blob){ setStatusLocal('Failed to render', true); return; } const url = URL.createObjectURL(blob); lastBlobUrl = url; dlBtn.style.display = 'inline-block'; dlBtn.dataset.url = url; const ext = outFormat === 'image/png' ? 'png' : (outFormat === 'image/jpeg' ? 'jpg' : 'webp'); dlBtn.dataset.name = `photo-500x500.${ext}`; outInfo.textContent = `500√ó500 ‚Ä¢ ${Math.round(blob.size/1024)} KB ‚Ä¢ ${ext.toUpperCase()}`; setStatusLocal('Done.'); const finalImg = new Image(); finalImg.onload = function(){ ctx.clearRect(0,0,500,500); if(bg !== 'transparent'){ ctx.fillStyle = bg; ctx.fillRect(0,0,500,500); } else { ctx.clearRect(0,0,500,500); } ctx.drawImage(finalImg, 0,0); } finalImg.src = url; }, outFormat, quality); });
  document.getElementById('dl500').addEventListener('click', ()=>{ const url = document.getElementById('dl500').dataset.url; const name = document.getElementById('dl500').dataset.name || 'photo-500x500.png'; if(!url){ setStatusLocal('Nothing to download', true); return; } const a = document.createElement('a'); a.href = url; a.download = name; document.body.appendChild(a); a.click(); a.remove(); setStatusLocal('Downloaded'); });
  resetBtn.addEventListener('click', ()=>{ fileInput.value = ''; img = null; zoom.value = '1'; rot.value = '0'; posX.value = '0'; posY.value = '0'; bgSel.value = 'transparent'; bgCustom.style.display='none'; bgCustom.value=''; fmt.value = 'image/png'; q.value = '92'; updateUIValues(); ctx.clearRect(0,0,500,500); origInfo.textContent = ''; outInfo.textContent = ''; document.getElementById('dl500').style.display = 'none'; clearLastBlob(); setStatusLocal(''); });
  updateUIValues();
})();

/* DESC SHORTER */
function shortenDescription(){
  const input = document.getElementById('descInput').value || '';
  const limitVal = parseInt(document.getElementById('charLimit').value, 10) || 0;
  const mode = document.getElementById('shortMode').value;
  const addEll = document.getElementById('addEllipsis').checked;
  const statusEl = document.getElementById('descStatus'); const outEl = document.getElementById('descOutput');
  statusEl.textContent = ''; outEl.value = '';
  if(!input.trim()){ statusEl.textContent = 'Please paste a description first.'; statusEl.style.color = '#ff8b8b'; return; }
  if(limitVal < 10){ statusEl.textContent = 'Please set a sensible character limit (>=10).'; statusEl.style.color = '#ff8b8b'; return; }
  const clean = input.replace(/\s+/g, ' ').trim();
  if(clean.length <= limitVal){ outEl.value = clean; statusEl.textContent = 'Input already within limit ‚Äî no change.'; statusEl.style.color = 'var(--muted)'; return; }
  let result = '';
  if(mode === 'hard'){ result = clean.slice(0, limitVal); result = result.replace(/\s+$/,''); if(addEll) result = result + '...'; }
  else if(mode === 'word'){ const chunk = clean.slice(0, limitVal + 1); const lastSpace = chunk.lastIndexOf(' '); if(lastSpace > 5) result = chunk.slice(0, lastSpace); else result = clean.slice(0, limitVal); result = result.replace(/\s+$/,''); if(addEll) result = result + '...'; }
  else if(mode === 'sentence'){ const sentences = clean.match(/[^.!?]+[.!?]*/g) || [clean]; let acc = ''; for(const s of sentences){ if((acc + ' ' + s).trim().length <= limitVal) acc = (acc + ' ' + s).trim(); else break; } if(!acc){ const chunk = clean.slice(0, limitVal + 1); const lastSpace = chunk.lastIndexOf(' '); result = lastSpace > 5 ? chunk.slice(0,lastSpace) : clean.slice(0,limitVal); result = result.replace(/\s+$/,''); if(addEll) result = result + '...'; } else { result = acc; if(addEll && acc.length < clean.length) result = result + '...'; } }
  else { result = clean.slice(0, limitVal); if(addEll) result = result + '...'; }
  outEl.value = result; statusEl.textContent = `Shortened to ${result.length} characters.`; statusEl.style.color = 'var(--muted)';
}
function copyDescOutput(){ const text = document.getElementById('descOutput').value; const statusEl = document.getElementById('descStatus'); if(!text){ statusEl.textContent = 'Nothing to copy'; statusEl.style.color = '#ff8b8b'; return; } if(navigator.clipboard && navigator.clipboard.writeText){ navigator.clipboard.writeText(text).then(()=>{ statusEl.textContent = 'Copied to clipboard ‚úî'; statusEl.style.color = 'var(--muted)'; }).catch(()=> fallbackCopyDesc(text,statusEl)); } else { fallbackCopyDesc(text,statusEl); } }
function fallbackCopyDesc(text,statusEl){ const ta=document.createElement('textarea'); ta.value=text; document.body.appendChild(ta); ta.select(); try{ document.execCommand('copy'); statusEl.textContent='Copied to clipboard ‚úî'; statusEl.style.color='var(--muted)'; }catch(e){ statusEl.textContent='Copy failed ‚Äî select and copy manually'; statusEl.style.color='#ff8b8b'; } ta.remove(); }
function resetDescTool(){ document.getElementById('descInput').value=''; document.getElementById('descOutput').value=''; document.getElementById('charLimit').value=160; document.getElementById('shortMode').value='word'; document.getElementById('addEllipsis').checked=true; document.getElementById('descStatus').textContent=''; }

/* LINK SHUFFLE logic */
(function(){
  const input = document.getElementById('inputLinks'); if(!input) return;
  const output = document.getElementById('outputLinks'); const charCount = document.getElementById('charCount'); const countNum = document.getElementById('countNum');
  const shuffleBtn = document.getElementById('shuffleBtn'); const copyBtn = document.getElementById('copyBtn'); const clearBtn = document.getElementById('clearBtn');
  function updateCharCount() { charCount.textContent = input.value.length; }
  input.addEventListener('input', updateCharCount);
  function getNonEmptyLines(text) { return text.split(/\r?\n/).map(line => line.trim()).filter(line => line.length > 0); }
  function shuffleArray(arr) { const a = arr.slice(); for (let i = a.length - 1; i > 0; i--) { const j = Math.floor(Math.random() * (i + 1)); [a[i], a[j]] = [a[j], a[i]]; } return a; }
  shuffleBtn.addEventListener('click', () => { const lines = getNonEmptyLines(input.value); if (lines.length === 0) { output.value = ''; countNum.textContent = '0'; return; } const shuffled = shuffleArray(lines); output.value = shuffled.join('\n'); countNum.textContent = String(shuffled.length); });
  copyBtn.addEventListener('click', async () => { try { const text = output.value; if (!text) return; await navigator.clipboard.writeText(text); const prev = copyBtn.textContent; copyBtn.textContent = 'COPIED!'; setTimeout(()=> copyBtn.textContent = prev, 1200); } catch (err) { output.select(); document.execCommand('copy'); const prev = copyBtn.textContent; copyBtn.textContent = 'COPIED!'; setTimeout(()=> copyBtn.textContent = prev, 1200); } });
  clearBtn.addEventListener('click', () => { input.value = ''; output.value = ''; updateCharCount(); countNum.textContent = '0'; });
  input.addEventListener('keydown', (e) => { if ((e.ctrlKey || e.metaKey) && e.key === 'Enter') { e.preventDefault(); shuffleBtn.click(); } });
  updateCharCount();
})();

/* small accessibility note */
console.info('Accessibility: ensure images have alt attributes; tiles are keyboard-navigable; prefers-reduced-motion honored.');
</script>
</body>
</html>
