<!doctype html>
<html lang="bn">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>PhotoTools ‚Äî Neon Dark</title>
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Inter:wght@300;400&display=swap" rel="stylesheet">
<style>
  :root{
    --bg:#020617;
    --panel: rgba(255,255,255,0.035);
    --muted:#9fb0c8;
    --neon-cyan:#00f0ff;
    --neon-mag:#c084fc;
    --radius:12px;
    --container:1150px;
  }
  *{box-sizing:border-box}
  body{
    margin:0;
    background:linear-gradient(180deg,#01040a 0%, #020617 100%);
    color:#e6f7ff;
    font-family:Inter, system-ui, sans-serif;
  }
  .wrap{max-width:var(--container);margin:24px auto;padding:20px}
  header{display:flex;align-items:center;justify-content:space-between;gap:12px}
  .brand{display:flex;align-items:center;gap:14px}
  .logo{width:64px;height:64px;border-radius:12px;background:linear-gradient(135deg,var(--neon-cyan),var(--neon-mag));display:flex;align-items:center;justify-content:center;font-family:Orbitron;color:#00141a;font-weight:700}
  nav a{color:var(--muted);text-decoration:none;margin-left:10px;padding:8px;border-radius:8px}

  /* Home tiles */
  .home{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:18px;margin-top:28px}
  .tile{
    position:relative;
    overflow:hidden;
    background:linear-gradient(180deg,rgba(255,255,255,0.025),rgba(255,255,255,0.01));
    border:1px solid rgba(255,255,255,0.06);
    padding:22px;
    border-radius:14px;
    cursor:pointer;
    text-align:center;
    box-shadow: 0 12px 30px rgba(0,0,0,0.6), inset 0 1px 0 rgba(255,255,255,0.01);
    transition:transform .18s ease, box-shadow .18s ease;
    transform: translateZ(0);
  }
  .tile:hover{ transform: translateY(-6px) scale(1.01); box-shadow: 0 18px 40px rgba(0,0,0,0.7); }
  .tile h3{margin:10px 0;color:var(--neon-mag);font-family:Orbitron}
  .tile p{color:var(--muted);font-size:13px}

  .tile::before{
    content:"";
    position:absolute; inset:0;
    border:2px solid var(--neon-cyan);
    border-radius:16px;
    opacity:0.5;
    filter:drop-shadow(0 0 10px var(--neon-cyan));
    pointer-events:none;
    transform:skew(-2deg,-1deg);
    transition:opacity .18s ease, filter .18s ease;
  }
  .tile:hover::before{ opacity:0.85; filter: drop-shadow(0 0 18px var(--neon-cyan)); }

  /* Tool page */
  .tool-page{
    display:none;
    margin-top:24px;
    padding:22px;
    border-radius:12px;
    background:var(--panel);
    border:1px solid rgba(0,255,255,0.08);
    box-shadow: 0 10px 30px rgba(0,0,0,0.55);
  }
  .tool-page.active{display:block}

  .file-input{
    margin-top:12px;
    padding:14px;
    border-radius:10px;
    background: rgba(255,255,255,0.01);
    border:1px dashed rgba(0,255,255,0.09);
    text-align:center;
    color:var(--muted);
  }

  .controls-row{display:flex;gap:12px;flex-wrap:wrap;align-items:center;margin-top:10px}
  .controls-row label{min-width:120px;color:var(--muted)}

  button.primary, button.download, button.reset, button.small {
    margin-top:10px;
    padding:10px 16px;
    border-radius:10px;
    border:0;
    background:linear-gradient(90deg,var(--neon-cyan),var(--neon-mag));
    color:#00141a;
    font-weight:700;
    cursor:pointer;
    box-shadow: 0 6px 18px rgba(0,0,0,0.45);
  }
  button.reset{ background:transparent;color:var(--muted);border:1px solid rgba(255,255,255,0.06);padding:8px 12px }
  input[type="range"]{ width:220px }

  select,input,textarea{
    padding:10px;border-radius:8px;
    border:1px solid rgba(255,255,255,0.12);
    background:#071226;
    color:#eaf6ff;
    width:100%;
    margin-top:8px;
    outline: none;
    transition: box-shadow .12s ease, border-color .12s ease;
  }
  select.small, input.small{ width:150px }

  select:focus,input:focus,textarea:focus{
    border-color: rgba(0,255,255,0.38);
    box-shadow: 0 0 12px rgba(0,255,255,0.06);
  }

  .back{
    background:transparent;
    color:var(--muted);
    border:1px solid rgba(255,255,255,0.06);
    padding:8px 12px;border-radius:8px;
    cursor:pointer;
  }

  /* 500x500 tool layout */
  .res500-wrap{display:flex;gap:18px;align-items:flex-start;flex-wrap:wrap}
  .controls{flex:1;min-width:300px}
  .preview-box{width:520px;display:flex;flex-direction:column;gap:10px;align-items:center}
  .canvas-frame{width:500px;height:500px;border-radius:10px;border:1px solid rgba(255,255,255,0.04);background:#071226;display:flex;align-items:center;justify-content:center;overflow:hidden;box-shadow:0 8px 28px rgba(0,0,0,0.6)}
  .meta{color:var(--muted);font-size:13px}

  footer{margin-top:24px;color:var(--muted);text-align:center}
  @media(max-width:1100px){ .preview-box{width:100%;order:2} .controls{order:1} .res500-wrap{flex-direction:column} }
</style>
</head>
<body>
  <div class="wrap">
    <header>
      <div class="brand">
        <div style="display:flex;flex-direction:column;gap:4px">
          <div style="font-family:Orbitron;color:var(--neon-cyan);font-size:20px;letter-spacing:0.6px">PixelKit</div>
          <div style="color:var(--muted);font-size:13px">Neon ‚Ä¢ Fast</div>
        </div>
      </div>
      <nav>
        <a href="#home" onclick="showHome();return false;">Home</a>
      </nav>
    </header>

    <!-- HOME -->
    <main id="homeView">
      <section style="margin-bottom:32px;padding:24px 0;text-align:center;">
        <h1 style="font-family:Orbitron;font-size:34px;color:var(--neon-cyan);margin:0;">
          Welcome to PixelKit.com
        </h1>
        <p style="color:#7dd3fc;font-size:16px;margin-top:8px;max-width:700px;margin-left:auto;margin-right:auto;line-height:1.5;">
          Fast, powerful & elegant tools for creators, designers and editors.
        </p>
      </section>
      <h2 style="color:var(--neon-cyan);font-family:Orbitron">Tools</h2>
      <div class="home">
        <div class="tile" onclick="showTool('resizer')"><div style="font-size:26px">‚öôÔ∏è</div><h3>Resizer</h3><p>Resize images to any px / in / cm</p></div>
        <div class="tile" onclick="showTool('converter')"><div style="font-size:26px">üîÅ</div><h3>Converter</h3><p>PNG ‚áÜ JPG ‚áÜ WEBP</p></div>
        <div class="tile" onclick="showTool('compressor')"><div style="font-size:26px">‚ö°</div><h3>Compressor</h3><p>Compress images with quality control</p></div>
        <div class="tile" onclick="showTool('urltool')"><div style="font-size:26px">üîó</div><h3>URL ‚Üí HTML</h3><p>Paste URLs to generate anchor tags</p></div>
        <div class="tile" onclick="showTool('resizer2048')"><div style="font-size:26px">üñºÔ∏è</div><h3>2048 √ó 1152 Resizer</h3><p>Resize / fit / crop photos to 2048√ó1152</p></div>
        <div class="tile" onclick="showTool('resizer500')"><div style="font-size:26px">üñºÔ∏è</div><h3>500 √ó 500 Resizer</h3><p>Interactive photo resize & position</p></div>
      </div>
    </main>

    <!-- ========== OTHER TOOL SECTIONS OMITTED FOR BREVITY (keep your previous ones) ========== -->
    <!-- ... (resizer, converter, compressor, urltool, resizer2048 sections ‚Äî use your existing code) ... -->

    <!-- NEW: 500x500 Photo Resizer -->
    <section id="resizer500" class="tool-page" aria-hidden="true">
      <button class="back" onclick="showHome()">‚Üê Back to Tools</button>
      <h2 style="color:var(--neon-cyan);font-family:Orbitron">500 √ó 500 Photo Resizer</h2>

      <div class="res500-wrap">
        <div class="controls">
          <div class="file-input">
            <input type="file" id="file500" accept="image/*">
            <div style="margin-top:8px;color:var(--muted);font-size:13px">Supported: PNG, JPG, WEBP ‚Äî processed locally</div>
          </div>

          <div class="controls-row" style="margin-top:12px">
            <label>Background</label>
            <select id="bg500" class="small">
              <option value="transparent">Transparent (PNG)</option>
              <option value="#ffffff">White</option>
              <option value="#000000">Black</option>
              <option value="#0a3bff">Blue</option>
              <option value="custom">Custom HEX</option>
            </select>
            <input id="bgCustom500" class="small" placeholder="#f0f0f0" style="display:none;margin-left:6px">
          </div>

          <div class="controls-row">
            <label>Output format</label>
            <select id="fmt500" class="small">
              <option value="image/png">PNG</option>
              <option value="image/jpeg">JPG</option>
              <option value="image/webp">WEBP</option>
            </select>

            <label>Quality (JPG/WEBP)</label>
            <input id="q500" class="small" type="number" min="10" max="100" value="92">
          </div>

          <div style="margin-top:14px">
            <label class="muted">Zoom</label>
            <div style="display:flex;align-items:center;gap:12px;margin-top:6px">
              <input id="zoom500" type="range" min="0.1" max="3" step="0.01" value="1">
              <div class="meta" id="zoomVal500">100%</div>
            </div>
          </div>

          <div style="margin-top:10px">
            <label class="muted">Rotate (¬∞)</label>
            <div style="display:flex;align-items:center;gap:12px;margin-top:6px">
              <input id="rot500" type="range" min="-180" max="180" step="1" value="0">
              <div class="meta" id="rotVal500">0¬∞</div>
            </div>
          </div>

          <div style="margin-top:10px">
            <label class="muted">Position X</label>
            <div style="display:flex;align-items:center;gap:12px;margin-top:6px">
              <input id="posX500" type="range" min="-500" max="500" step="1" value="0">
              <div class="meta" id="posXVal500">0 px</div>
            </div>
          </div>

          <div style="margin-top:10px">
            <label class="muted">Position Y</label>
            <div style="display:flex;align-items:center;gap:12px;margin-top:6px">
              <input id="posY500" type="range" min="-500" max="500" step="1" value="0">
              <div class="meta" id="posYVal500">0 px</div>
            </div>
          </div>

          <div style="margin-top:14px;display:flex;gap:10px;align-items:center;flex-wrap:wrap">
            <button class="primary" id="gen500">Generate</button>
            <button class="download" id="dl500" style="display:none">Download</button>
            <button class="reset" id="reset500">Reset</button>
            <span id="status500" style="margin-left:10px;color:var(--muted)"></span>
          </div>

        </div>

        <div class="preview-box">
          <div class="canvas-frame">
            <canvas id="canvas500" width="500" height="500" style="display:block"></canvas>
          </div>
          <div style="width:100%;display:flex;justify-content:space-between;align-items:center">
            <div class="meta" id="origInfo500"></div>
            <div class="meta" id="outInfo500"></div>
          </div>
        </div>
      </div>
    </section>

    <footer>¬© PhotoTools ‚Äî Neon dark ‚Ä¢ Built for creators</footer>
  </div>

<script>
  // Basic navigation: keep your other tool sections in place (omitted earlier)
  function showHome(){
    document.getElementById('homeView').style.display='block';
    const ids = ['resizer','converter','compressor','urltool','resizer2048','resizer500'];
    ids.forEach(id=>{
      const el=document.getElementById(id);
      if(el){ el.classList.remove('active'); el.setAttribute('aria-hidden','true'); }
    });
    window.scrollTo(0,0);
  }
  function showTool(id){
    document.getElementById('homeView').style.display='none';
    const ids = ['resizer','converter','compressor','urltool','resizer2048','resizer500'];
    ids.forEach(k=>{
      const el=document.getElementById(k);
      if(!el) return;
      if(k===id){ el.classList.add('active'); el.setAttribute('aria-hidden','false'); } else { el.classList.remove('active'); el.setAttribute('aria-hidden','true'); }
    });
    window.scrollTo({top:0,behavior:'smooth'});
  }

  // ---------- 500x500 resizer logic ----------
  (function(){
    const fileInput = document.getElementById('file500');
    const canvas = document.getElementById('canvas500');
    const ctx = canvas.getContext('2d');

    const zoom = document.getElementById('zoom500');
    const zoomVal = document.getElementById('zoomVal500');
    const rot = document.getElementById('rot500');
    const rotVal = document.getElementById('rotVal500');
    const posX = document.getElementById('posX500');
    const posXVal = document.getElementById('posXVal500');
    const posY = document.getElementById('posY500');
    const posYVal = document.getElementById('posYVal500');

    const bgSel = document.getElementById('bg500');
    const bgCustom = document.getElementById('bgCustom500');
    const fmt = document.getElementById('fmt500');
    const q = document.getElementById('q500');

    const genBtn = document.getElementById('gen500');
    const dlBtn = document.getElementById('dl500');
    const resetBtn = document.getElementById('reset500');
    const status = document.getElementById('status500');
    const origInfo = document.getElementById('origInfo500');
    const outInfo = document.getElementById('outInfo500');

    let img = null;
    let origFile = null;
    let lastBlobUrl = null;

    function setStatus(msg, isErr){
      status.textContent = msg||'';
      status.style.color = isErr ? '#ff8b8b' : 'var(--muted)';
    }

    function updateUIValues(){
      zoomVal.textContent = Math.round(parseFloat(zoom.value)*100) + '%';
      rotVal.textContent = rot.value + '¬∞';
      posXVal.textContent = posX.value + ' px';
      posYVal.textContent = posY.value + ' px';
    }

    // show/hide custom bg input
    bgSel.addEventListener('change', ()=>{
      if(bgSel.value === 'custom'){ bgCustom.style.display='inline-block'; }
      else { bgCustom.style.display='none'; }
    });

    // update UI on slider moves
    [zoom, rot, posX, posY].forEach(el=>{
      el.addEventListener('input', updateUIValues);
    });

    // load file and show in canvas preview with current transforms
    fileInput.addEventListener('change', (e)=>{
      const f = e.target.files[0];
      if(!f) return;
      origFile = f;
      const url = URL.createObjectURL(f);
      const i = new Image();
      i.onload = function(){
        img = i;
        origInfo.textContent = `${img.width}√ó${img.height} ‚Ä¢ ${Math.round(f.size/1024)} KB`;
        renderPreview(); // draw with current values
        URL.revokeObjectURL(url); // revoke temporary url
      }
      i.onerror = function(){ setStatus('Failed to load image', true); }
      i.src = url;
    });

    function clearLastBlob(){
      if(lastBlobUrl){ URL.revokeObjectURL(lastBlobUrl); lastBlobUrl = null; }
    }

    // draw current preview
    function renderPreview(){
      // clear
      ctx.clearRect(0,0,500,500);
      // background
      let bg = bgSel.value;
      if(bg === 'custom'){ bg = bgCustom.value || '#ffffff'; }
      // If user chose 'transparent' but selected output won't support alpha, leaving preview transparent is fine.
      if(bg !== 'transparent'){
        ctx.fillStyle = bg;
        ctx.fillRect(0,0,500,500);
      } else {
        // show subtle checkerboard? For simplicity keep dark panel background (already)
        ctx.clearRect(0,0,500,500);
      }

      if(!img) return;

      // Save/restore for transforms
      ctx.save();
      // center coords
      const cx = 250 + parseInt(posX.value,10);
      const cy = 250 + parseInt(posY.value,10);
      ctx.translate(cx, cy);
      const angle = parseFloat(rot.value) * Math.PI / 180;
      ctx.rotate(angle);
      const scale = parseFloat(zoom.value);

      // draw image centered at 0,0 scaled
      const iw = img.width, ih = img.height;
      const drawW = iw * scale;
      const drawH = ih * scale;
      ctx.drawImage(img, -drawW/2, -drawH/2, drawW, drawH);
      ctx.restore();
    }

    // Generate final blob and enable download
    genBtn.addEventListener('click', ()=>{
      if(!img){ setStatus('Please choose an image first', true); return; }
      setStatus('Rendering...');
      // prepare an offscreen canvas sized 500x500
      const outCanvas = document.createElement('canvas');
      outCanvas.width = 500; outCanvas.height = 500;
      const outCtx = outCanvas.getContext('2d');

      // background fill
      let bg = bgSel.value;
      if(bg === 'custom'){ bg = bgCustom.value || '#ffffff'; }
      if(bg === 'transparent' && fmt.value !== 'image/png'){
        // fallback to white if format doesn't support transparency
        bg = '#ffffff';
      }
      if(bg !== 'transparent'){
        outCtx.fillStyle = bg;
        outCtx.fillRect(0,0,500,500);
      } else {
        outCtx.clearRect(0,0,500,500);
      }

      // apply transforms same as preview
      outCtx.save();
      const cx = 250 + parseInt(posX.value,10);
      const cy = 250 + parseInt(posY.value,10);
      outCtx.translate(cx, cy);
      const angle = parseFloat(rot.value) * Math.PI / 180;
      outCtx.rotate(angle);
      const scale = parseFloat(zoom.value);
      const iw = img.width, ih = img.height;
      const drawW = iw * scale;
      const drawH = ih * scale;
      outCtx.drawImage(img, -drawW/2, -drawH/2, drawW, drawH);
      outCtx.restore();

      // convert to blob
      const outFormat = fmt.value;
      const quality = Math.max(0.1, Math.min(1, (parseInt(q.value,10)||92)/100));
      clearLastBlob();
      outCanvas.toBlob(function(blob){
        if(!blob){ setStatus('Failed to render', true); return; }
        const url = URL.createObjectURL(blob);
        lastBlobUrl = url;
        dlBtn.style.display = 'inline-block';
        dlBtn.dataset.url = url;
        const ext = outFormat === 'image/png' ? 'png' : (outFormat === 'image/jpeg' ? 'jpg' : 'webp');
        dlBtn.dataset.name = `photo-500x500.${ext}`;
        outInfo.textContent = `500√ó500 ‚Ä¢ ${Math.round(blob.size/1024)} KB ‚Ä¢ ${ext.toUpperCase()}`;
        setStatus('Done.');
        // update visible preview to final (optionally)
        // we also draw final onto visible canvas to show exact output
        const finalImg = new Image();
        finalImg.onload = function(){
          ctx.clearRect(0,0,500,500);
          if(bg !== 'transparent'){ ctx.fillStyle = bg; ctx.fillRect(0,0,500,500); } else { ctx.clearRect(0,0,500,500); }
          ctx.drawImage(finalImg, 0,0);
        }
        finalImg.src = url;
      }, outFormat, quality);
    });

    dlBtn.addEventListener('click', ()=>{
      const url = dlBtn.dataset.url;
      const name = dlBtn.dataset.name || 'photo-500x500.png';
      if(!url){ setStatus('Nothing to download', true); return; }
      const a = document.createElement('a'); a.href = url; a.download = name;
      document.body.appendChild(a); a.click(); a.remove();
      setStatus('Downloaded');
    });

    resetBtn.addEventListener('click', ()=>{
      // reset controls to defaults
      fileInput.value = '';
      img = null; origFile = null;
      zoom.value = '1'; rot.value = '0'; posX.value = '0'; posY.value = '0';
      bgSel.value = 'transparent'; bgCustom.style.display='none'; bgCustom.value='';
      fmt.value = 'image/png'; q.value = '92';
      updateUIValues();
      ctx.clearRect(0,0,500,500);
      origInfo.textContent = '';
      outInfo.textContent = '';
      dlBtn.style.display = 'none';
      clearLastBlob();
      setStatus('');
    });

    // initial UI
    updateUIValues();

    // render preview on slider change for instant feedback
    [zoom, rot, posX, posY, bgSel, bgCustom].forEach(el=>{
      el.addEventListener('input', renderPreview);
    });
  })();

  // keep simple tile hover
  (function(){
    const tiles = document.querySelectorAll('.tile');
    tiles.forEach(tile=>{
      tile.addEventListener('mousemove', (e)=>{
        const r = tile.getBoundingClientRect();
        const cx = r.left + r.width/2;
        const cy = r.top + r.height/2;
        const dx = e.clientX - cx;
        const dy = e.clientY - cy;
        const ry = (dx / r.width) * 6;
        const rx = -(dy / r.height) * 6;
        tile.style.transform = `rotateX(${rx}deg) rotateY(${ry}deg) translateZ(0) translateY(-6px)`;
      });
      tile.addEventListener('mouseleave', ()=>{ tile.style.transform = ''; });
    });
  })();

  // initial home view
  showHome();
</script>
</body>
</html>
